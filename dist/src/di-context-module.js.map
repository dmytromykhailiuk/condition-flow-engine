{"version":3,"file":"di-context-module.js","sourceRoot":"","sources":["../../src/di-context-module.tsx"],"names":[],"mappings":";;;AAAA,+BAA+B;AAC/B,yCAAyE;AACzE,iCAA2D;AAE9C,QAAA,SAAS,GAAG,IAAA,qBAAa,EAAC,0BAAe,CAAC,CAAC;AAEjD,MAAM,MAAM,GAAG,CAAC,EAAE,SAAS,GAAG,EAAE,EAAE,QAAQ,EAAoD,EAAE,EAAE;IACvG,MAAM,SAAS,GAAG,IAAA,kBAAU,EAAC,iBAAS,CAAC,CAAC;IACxC,MAAM,YAAY,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE,CAAC,IAAI,oBAAS,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAE1E,IAAA,eAAO,EAAC,GAAG,EAAE;QACX,YAAY,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACzD,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAEhB,OAAO,oBAAC,iBAAS,CAAC,QAAQ,IAAC,KAAK,EAAE,YAAY,IAAG,QAAQ,CAAsB,CAAC;AAClF,CAAC,CAAA;AATY,QAAA,MAAM,UASlB;AAED,SAAgB,SAAS,CAAI,KAAU;IACrC,MAAM,SAAS,GAAG,IAAA,kBAAU,EAAC,iBAAS,CAAC,CAAC;IAExC,OAAO,IAAA,eAAO,EAAI,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAI,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/D,CAAC;AAJD,8BAIC","sourcesContent":["import * as React from 'react';\nimport { Container, globalContainer, ProviderOptions } from './conainer';\nimport { createContext, useContext, useMemo } from 'react';\n\nexport const DIContext = createContext(globalContainer);\n\nexport const Module = ({ providers = [], children }: { providers?: ProviderOptions[]; children: any }) => {\n  const container = useContext(DIContext);\n  const newContainer = useMemo(() => new Container(container), [providers]);\n\n  useMemo(() => {\n    newContainer.registerProviders([...(providers || [])]);\n  }, [providers]);\n\n  return <DIContext.Provider value={newContainer}>{children}</DIContext.Provider>;\n}\n\nexport function useInject<T>(token: any): T {\n  const container = useContext(DIContext);\n\n  return useMemo<T>(() => container.inject<T>(token), [token]);\n}\n"]}